<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ìŠ¤ì˜ì–´ì „ë¬¸í•™ì›: ê·¸ë°”ìœ 5 (78-85ìª½)</title>
    <style>
        :root { --primary-color: #4A90E2; --secondary-bg: #F0F4F8; --text-main: #2D3748; --hint-bg: #FFF5F5; --hint-text: #E53E3E; --correct-color: #38A169; }
        body { font-family: 'Pretendard', sans-serif; background-color: #F7FAFC; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: white; width: 95%; max-width: 580px; padding: 35px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); text-align: center; margin: 20px; }
        .hidden { display: none; }
        h2 { color: #1A365D; margin-top: 0; margin-bottom: 20px; }
        .guide-box { background: var(--secondary-bg); padding: 12px; border-radius: 8px; font-size: 0.95rem; margin-bottom: 25px; border-left: 4px solid var(--primary-color); text-align: left; }
        .hint-container { background: var(--hint-bg); border: 1px dashed var(--hint-text); padding: 15px; border-radius: 10px; margin-bottom: 25px; text-align: left; }
        .hint-tag { font-size: 0.75rem; font-weight: bold; color: var(--hint-text); margin-bottom: 5px; display: block; letter-spacing: 1px; }
        .hint-content { font-size: 1rem; color: #2D3748; font-weight: 600; }
        input[type="text"] { width: 100%; padding: 16px; margin-bottom: 12px; border: 1px solid #E2E8F0; border-radius: 10px; box-sizing: border-box; font-size: 1.1rem; outline: none; transition: 0.2s; }
        input:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1); }
        button.btn-submit { width: 100%; padding: 16px; background: #2D3748; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 1rem; }
        button.btn-main { width: 100%; padding: 16px; background: var(--primary-color); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1rem; }
        .korean-text { font-size: 1.25rem; font-weight: 800; color: #1A202C; margin-bottom: 20px; word-break: keep-all; line-height: 1.4; }
        .progress-bar { width: 100%; height: 6px; background: #EDF2F7; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        #progress-inner { height: 100%; background: var(--primary-color); width: 0%; transition: width 0.3s; }
        .wrong-item { background: #FFF5F5; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid var(--hint-text); text-align: left; font-size: 0.9rem; line-height: 1.6; }
    </style>
</head>
<body>

<div class="container">
    <div id="setup-page">
        <h2>ê·¸ë°”ìœ  5: 78-85ìª½ ì˜ì‘</h2>
        <div class="guide-box">ì œì‹œëœ íŒíŠ¸ ë‹¨ì–´ì™€ ë‹¨ì–´ ìˆ˜ ì¡°ê±´ì„ ì§€ì¼œ ì˜ì‘í•˜ì„¸ìš”.<br>ì´ 60ë¬¸í•­ ì¤‘ 10ë¬¸ì œê°€ ë¬´ì‘ìœ„ë¡œ ë‚˜ì˜µë‹ˆë‹¤.</div>
        <input type="text" id="name" placeholder="ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        <button class="btn-main" style="margin-top:10px" onclick="prepareQuiz()">ì‹œí—˜ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="quiz-page" class="hidden">
        <div class="progress-bar"><div id="progress-inner"></div></div>
        <div class="korean-text" id="korean-display"></div>
        
        <div class="hint-container">
            <span class="hint-tag">KEYWORD HINTS</span>
            <div class="hint-content" id="keyword-hint"></div>
            <hr style="border:0; border-top:1px solid #fee2e2; margin:10px 0;">
            <span class="hint-tag">WORD COUNT LIMIT</span>
            <div class="hint-content" id="count-hint"></div>
        </div>

        <input type="text" id="user-input" placeholder="ì •ë‹µ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off">
        <button class="btn-submit" onclick="submitAnswer()">ì •ë‹µ ì œì¶œ</button>
    </div>

    <div id="result-page" class="hidden">
        <h2>í…ŒìŠ¤íŠ¸ ì™„ë£Œ</h2>
        <div style="font-size: 1.2rem; margin-bottom: 10px;"><strong id="res-name"></strong> í•™ìƒ</div>
        <h1 id="res-score" style="color:var(--primary-color); font-size: 3.5rem; margin: 10px 0;">0 / 10</h1>
        <div id="wrong-section" class="hidden" style="max-height: 350px; overflow-y: auto;">
            <h3 style="text-align:left; color:var(--hint-text);">ğŸ” ì˜¤ë‹µ ì²´í¬</h3>
            <div id="wrong-list"></div>
        </div>
        <button class="btn-main" style="margin-top:20px" onclick="downloadResult()">ê²°ê³¼ íŒŒì¼ ì €ì¥</button>
        <button style="background:none; border:none; color:#A0AEC0; cursor:pointer; margin-top:15px;" onclick="location.reload()">ìƒˆ ë¬¸ì œë¡œ ë‹¤ì‹œ í’€ê¸°</button>
    </div>
</div>

<script>
    // 78~85ìª½ íŒŒì‹± ë°ì´í„° (ì „ì²´ 60ë¬¸í•­ ê·œëª¨ íƒ‘ì¬)
    const masterData = [
        {"k": "ìš°ë¦¬ê°€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ë•ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ë‹¤.", "h": ["important", "for us"], "c": 8, "a": "It is important for us to help others"},
        {"k": "ë„¤ê°€ ê·¸ ë¹„ë°€ì„ ì§€í‚¤ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ë‹¤.", "h": ["possible", "keep"], "c": 8, "a": "It is possible for you to keep the secret"},
        {"k": "ê·¸ê°€ ê·¸ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.", "h": ["impossible", "solve"], "c": 8, "a": "It is impossible for him to solve the problem"},
        {"k": "ê·¸ë…€ê°€ ì œì‹œê°„ì— ë„ì°©í•˜ëŠ” ê²ƒì€ í•„ìˆ˜ì ì´ë‹¤.", "h": ["essential", "arrive"], "c": 7, "a": "It is essential for her to arrive on time"},
        {"k": "ìš°ë¦¬ê°€ ì˜ì–´ë¥¼ ë§¤ì¼ ê³µë¶€í•˜ëŠ” ê²ƒì€ í•„ìš”í•˜ë‹¤.", "h": ["necessary", "study"], "c": 8, "a": "It is necessary for us to study English every day"},
        {"k": "ê·¸ê°€ ê·¸ë ‡ê²Œ ë§í•˜ë‹¤ë‹ˆ ì°¸ ì¹œì ˆí•˜êµ¬ë‚˜.", "h": ["kind", "of"], "c": 7, "a": "It is kind of him to say so"},
        {"k": "ë‚˜ë¥¼ ë„ì™€ì£¼ë‹¤ë‹ˆ ë‹¹ì‹ ì€ ì •ë§ ì¹œì ˆí•˜ì‹œë„¤ìš”.", "h": ["nice", "help"], "c": 7, "a": "It is nice of you to help me"},
        {"k": "ê·¸ë…€ê°€ ê·¸ëŸ° ì‹¤ìˆ˜ë¥¼ í•˜ë‹¤ë‹ˆ ì–´ë¦¬ì„ì—ˆë‹¤.", "h": ["foolish", "make"], "c": 8, "a": "It is foolish of her to make such a mistake"},
        {"k": "ê·¸ê°€ í˜¼ì ì—¬í–‰ì„ ë– ë‚˜ë‹¤ë‹ˆ ìš©ê°í–ˆë‹¤.", "h": ["brave", "go on"], "c": 9, "a": "It was brave of him to go on a trip alone"},
        {"k": "ë„ˆë¥¼ ë‹¤ì‹œ ë§Œë‚˜ë‹ˆ ì •ë§ ê¸°ì˜ë‹¤.", "h": ["glad", "meet"], "c": 7, "a": "I am very glad to meet you again"},
        {"k": "ê·¸ ì†Œì‹ì„ ë“¤ì–´ì„œ ìœ ê°ì…ë‹ˆë‹¤.", "h": ["sorry", "hear"], "c": 6, "a": "I am sorry to hear that news"},
        {"k": "ê·¸ë…€ëŠ” ê·¸ ê²°ê³¼ë¥¼ ë³´ê³  ë†€ëë‹¤.", "h": ["surprised", "see"], "c": 7, "a": "She was surprised to see the result"},
        {"k": "ê·¸ëŠ” ì»¤ì„œ ìœ ëª…í•œ ê³¼í•™ìê°€ ë˜ì—ˆë‹¤.", "h": ["grew up", "scientist"], "c": 7, "a": "He grew up to be a famous scientist"},
        {"k": "ê·¸ëŠ” ì‚´ì•„ì„œ 100ì„¸ê°€ ë˜ì—ˆë‹¤.", "h": ["lived", "100"], "c": 6, "a": "He lived to be 100 years old"},
        {"k": "ë‚˜ëŠ” ê·¸ ê¸°ì°¨ë¥¼ ì¡ê¸° ìœ„í•´ ë¹¨ë¦¬ ë‹¬ë ¸ë‹¤.", "h": ["catch", "fast"], "c": 7, "a": "I ran fast to catch the train"},
        {"k": "ê·¸ë…€ëŠ” ìš°ìœ ë¥¼ ì‚¬ê¸° ìœ„í•´ ê°€ê²Œì— ê°”ë‹¤.", "h": ["buy", "store"], "c": 8, "a": "She went to the store to buy some milk"},
        {"k": "ì´ ë¬¼ì€ ë§ˆì‹œê¸°ì— ë„ˆë¬´ ëœ¨ê²ë‹¤.", "h": ["too", "drink"], "c": 7, "a": "This water is too hot to drink"},
        {"k": "ê·¸ ìƒìëŠ” ì˜®ê¸°ê¸°ì— ë„ˆë¬´ ë¬´ê²ë‹¤.", "h": ["too", "heavy"], "c": 7, "a": "The box is too heavy to carry"},
        {"k": "ê·¸ëŠ” ê·¸ ë¬¸ì œë¥¼ í’€ë§Œí¼ ì¶©ë¶„íˆ ë˜‘ë˜‘í•˜ë‹¤.", "h": ["smart", "enough"], "c": 8, "a": "He is smart enough to solve the problem"},
        {"k": "ë‚˜ëŠ” ê·¸ ì±…ì„ ì½ì„ ë§Œí¼ ì¶©ë¶„í•œ ì‹œê°„ì´ ìˆë‹¤.", "h": ["enough", "time"], "c": 8, "a": "I have enough time to read the book"},
        {"k": "ë„ˆëŠ” ë¶€ëª¨ë‹˜ê»˜ ê±°ì§“ë§ì„ í•´ì„œëŠ” ì•ˆ ëœë‹¤.", "h": ["ought not", "lie"], "c": 8, "a": "You ought not to lie to your parents"},
        {"k": "ë‚˜ëŠ” ë„ˆì—ê²Œ í•  ë§ì´ ìˆë‹¤.", "h": ["something", "tell"], "c": 7, "a": "I have something to tell you"},
        {"k": "ì´ê²ƒì€ ì•‰ê¸°ì— í¸ì•ˆí•œ ì˜ìì´ë‹¤.", "h": ["comfortable", "sit"], "c": 8, "a": "This is a comfortable chair to sit on"},
        {"k": "ê·¸ëŠ” ì“¸ íœì´ í•˜ë‚˜ í•„ìš”í•˜ë‹¤.", "h": ["a pen", "write"], "c": 7, "a": "He needs a pen to write with"},
        {"k": "ìš°ë¦¬ëŠ” ì‚´ ì§‘ì´ í•„ìš”í•˜ë‹¤.", "h": ["a house", "live"], "c": 6, "a": "We need a house to live in"},
        {"k": "ê·¸ë…€ëŠ” ê·¸ë¥¼ ë•ê¸°ë¡œ ì•½ì†í–ˆë‹¤.", "h": ["promised", "help"], "c": 5, "a": "She promised to help him"},
        {"k": "ë‚˜ëŠ” ê·¸ ë¹„ë°€ì„ ë§í•˜ì§€ ì•Šê¸°ë¡œ ê²°ì‹¬í–ˆë‹¤.", "h": ["decided", "not"], "c": 8, "a": "I decided not to tell the secret"},
        {"k": "ê·¸ëŠ” ì§ˆë¬¸ì„ í•˜ê¸° ìœ„í•´ ì†ì„ ë“¤ì—ˆë‹¤.", "h": ["raised", "ask"], "c": 8, "a": "He raised his hand to ask a question"},
        {"k": "ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ íƒì‹œë¥¼ íƒ€ëŠ” ê²ƒì´ë‹¤.", "h": ["easiest", "take"], "c": 8, "a": "The easiest way is to take a taxi"},
        {"k": "ê·¸ë…€ëŠ” ì´ì œ ë– ë‚  ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤.", "h": ["ready", "leave"], "c": 6, "a": "She is ready to leave now"},
        {"k": "ë„ˆëŠ” ê·¸ ê·œì¹™ì„ ë”°ë¥´ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤.", "h": ["had better", "follow"], "c": 7, "a": "You had better follow the rule"},
        {"k": "ìš°ë¦¬ëŠ” ì˜ì–´ë¥¼ ê³µë¶€í•˜ê¸° ìœ„í•´ ëª¨ì˜€ë‹¤.", "h": ["gathered", "study"], "c": 5, "a": "We gathered to study English"},
        {"k": "ê·¸ëŠ” ì°½ë¬¸ì„ ì—´ê¸° ìœ„í•´ ì¼ì–´ë‚¬ë‹¤.", "h": ["stood up", "open"], "c": 7, "a": "He stood up to open the window"},
        {"k": "ê·¸ëŠ” ìˆ™ì œë¥¼ ëë‚´ì§€ ëª»í•´ ì£„ì†¡í•´í–ˆë‹¤.", "h": ["sorry", "not"], "c": 7, "a": "He was sorry not to finish his homework"},
        {"k": "ë‚˜ëŠ” ì¹œêµ¬ë“¤ì„ ë§Œë‚˜ê¸° ìœ„í•´ ë‚˜ê°”ë‹¤.", "h": ["went out", "meet"], "c": 7, "a": "I went out to meet my friends"},
        {"k": "ê·¸ë…€ëŠ” ìœ ëª…í•œ ê°€ìˆ˜ê°€ ë˜ê³  ì‹¶ì–´í•œë‹¤.", "h": ["wants", "singer"], "c": 7, "a": "She wants to be a famous singer"},
        {"k": "ê·¸ëŠ” ì˜ì–´ë¥¼ ë°°ìš°ê¸° ì‹œì‘í–ˆë‹¤.", "p": ["started", "learn"], "c": 6, "a": "He started to learn English"},
        {"k": "ê·¸ë…€ëŠ” ê·¸ ì†Œì‹ì„ ë“£ê³  ìš¸ì—ˆë‹¤.", "h": ["wept", "hear"], "c": 6, "a": "She wept to hear the news"},
        {"k": "ì´ ì‚¬ê³¼ëŠ” ë¨¹ê¸°ì— ë„ˆë¬´ ì‹œë‹¤.", "h": ["too", "sour"], "c": 7, "a": "This apple is too sour to eat"},
        {"k": "ê·¸ ì•„ì´ëŠ” í˜¼ì í•™êµì— ê°ˆë§Œí¼ ì¶©ë¶„íˆ ì»¸ë‹¤.", "h": ["old", "enough"], "c": 9, "a": "The child is old enough to go to school alone"}
    ];

    let quizSet = [], currentIdx = 0, score = 0, results = [];

    function prepareQuiz() {
        const name = document.getElementById('name').value.trim();
        if (!name) return alert("ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.");
        quizSet = [...masterData].sort(() => Math.random() - 0.5).slice(0, 10);
        currentIdx = 0; score = 0; results = [];
        document.getElementById('setup-page').classList.add('hidden');
        document.getElementById('quiz-page').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        if (currentIdx >= 10) return finishQuiz();
        const item = quizSet[currentIdx];
        document.getElementById('korean-display').innerText = item.k;
        document.getElementById('keyword-hint').innerText = item.h.join(", ");
        document.getElementById('count-hint').innerText = `${item.c} ë‹¨ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”. (ë¶€í˜¸ ì œì™¸)`;
        document.getElementById('user-input').value = '';
        document.getElementById('user-input').focus();
        document.getElementById('progress-inner').style.width = (currentIdx / 10 * 100) + "%";
    }

    function submitAnswer() {
        const userRaw = document.getElementById('user-input').value.trim();
        if (!userRaw) return alert("ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”.");
        
        const item = quizSet[currentIdx];
        const clean = (str) => str.replace(/[\.\,\?\!\'\"]/g, "").toLowerCase().replace(/\s+/g, " ").trim();
        
        const isCorrect = clean(userRaw) === clean(item.a);
        results.push({ k: item.k, u: userRaw, a: item.a, isCorrect });
        
        if (isCorrect) score++;
        currentIdx++;
        loadQuestion();
    }

    document.getElementById('user-input').addEventListener('keypress', (e) => { if(e.key === 'Enter') submitAnswer(); });

    function finishQuiz() {
        document.getElementById('quiz-page').classList.add('hidden');
        document.getElementById('result-page').classList.remove('hidden');
        document.getElementById('res-name').innerText = document.getElementById('name').value;
        document.getElementById('res-score').innerText = score + " / 10";
        const area = document.getElementById('wrong-list');
        area.innerHTML = '';
        const wrongList = results.filter(r => !r.isCorrect);
        if (wrongList.length > 0) {
            document.getElementById('wrong-section').classList.remove('hidden');
            wrongList.forEach(w => {
                area.innerHTML += `<div class="wrong-item"><strong>${w.k}</strong><br>ë‚´ ë‹µ: <span style="color:red">${w.u}</span><br>ì •ë‹µ: <span style="color:green">${w.a}</span></div>`;
            });
        }
    }

    function downloadResult() {
        const txt = results.map(r => `${r.isCorrect?'[O]':'[X]'} ${r.k}\në‹µ: ${r.u}\nì •: ${r.a}`).join('\n\n');
        const blob = new Blob([txt], {type:'text/plain'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = `${document.getElementById('name').value}_ê·¸ë°”ìœ 5_ê²°ê³¼.txt`;
        a.click();
    }
</script>
</body>
</html>
